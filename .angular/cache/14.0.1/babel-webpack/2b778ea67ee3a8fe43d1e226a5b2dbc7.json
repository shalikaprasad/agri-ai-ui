{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"projects/tools/src/lib/crop.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-confirmation-popover\";\n\nfunction PriceDetailsComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 9)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PriceDetailsComponent_tr_29_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const crop_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateCrop(crop_r1));\n    });\n    i0.ɵɵtext(13, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 11);\n    i0.ɵɵlistener(\"confirm\", function PriceDetailsComponent_tr_29_Template_button_confirm_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const crop_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteFarmer(crop_r1.id, crop_r1));\n    })(\"cancel\", function PriceDetailsComponent_tr_29_Template_button_cancel_14_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.cancelClicked = true);\n    });\n    i0.ɵɵtext(15, \" Remove \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const crop_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crop_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crop_r1.cropName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crop_r1.cropType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crop_r1.cropPrice);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crop_r1.district);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"popoverTitle\", ctx_r0.popoverTitle)(\"popoverMessage\", ctx_r0.popoverMessage);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/dashboard/update-price\"];\n};\n\nexport let PriceDetailsComponent = /*#__PURE__*/(() => {\n  class PriceDetailsComponent {\n    constructor(cropService, router) {\n      this.cropService = cropService;\n      this.router = router;\n      this.crops = [];\n      this.popoverTitle = 'Delete Crop';\n      this.popoverMessage = 'Are You Sure Delete Crop?';\n      this.cancelClicked = false;\n    }\n\n    ngOnInit() {\n      this.cropService.getAllCrops().subscribe(data => {\n        this.crops = data['body'];\n      });\n    }\n\n    deleteFarmer(id, crop) {\n      this.cropService.deleteCrop(id).pipe(first()).subscribe(data => {\n        const index = this.crops.indexOf(crop);\n        this.crops.splice(index, 1);\n      });\n    }\n\n    updateCrop(crop) {\n      localStorage.setItem('updateCrop', JSON.stringify(crop));\n      this.router.navigate(['/dashboard/update-price/' + crop.id]);\n    }\n\n  }\n\n  PriceDetailsComponent.ɵfac = function PriceDetailsComponent_Factory(t) {\n    return new (t || PriceDetailsComponent)(i0.ɵɵdirectiveInject(i1.CropService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  PriceDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PriceDetailsComponent,\n    selectors: [[\"app-price-details\"]],\n    decls: 30,\n    vars: 3,\n    consts: [[1, \"container\", \"my-4\"], [\"href\", \"https:google.com\", \"target\", \"_blank\"], [1, \"my-4\"], [1, \"mb-5\", \"h4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-bottom\", \"15px\", 3, \"routerLink\"], [1, \"table\", \"table-striped\", \"w-auto\"], [\"scope\", \"row\"], [2, \"text-align\", \"center\"], [\"style\", \"vertical-align: middle !important;\", 4, \"ngFor\", \"ngForOf\"], [2, \"vertical-align\", \"middle !important\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-right\", \"15px\", 3, \"click\"], [\"mwlConfirmationPopover\", \"\", \"placement\", \"left\", 1, \"btn\", \"btn-danger\", 3, \"popoverTitle\", \"popoverMessage\", \"confirm\", \"cancel\"]],\n    template: function PriceDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Pricing with Crops\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"p\")(4, \"strong\");\n        i0.ɵɵtext(5, \"If you want to add crop our web site, Please fill this form correctly. Because, It will add to Machine Learning System. So, If you enter wrong details prediction will be wrong. \");\n        i0.ɵɵelementStart(6, \"a\", 1);\n        i0.ɵɵtext(7, \"If you want more details. click here...\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(8, \"hr\", 2);\n        i0.ɵɵelementStart(9, \"h4\", 3);\n        i0.ɵɵtext(10, \"Crop Price Details Table\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 4);\n        i0.ɵɵtext(12, \"Create new Crop Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"table\", 5)(14, \"thead\")(15, \"tr\")(16, \"th\", 6);\n        i0.ɵɵtext(17, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"Crop Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"Crop Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Crop Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"District\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\", 7);\n        i0.ɵɵtext(27, \"Action\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(28, \"tbody\");\n        i0.ɵɵtemplate(29, PriceDetailsComponent_tr_29_Template, 16, 7, \"tr\", 8);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.crops);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.RouterLink, i4.ConfirmationPopoverDirective]\n  });\n  return PriceDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}