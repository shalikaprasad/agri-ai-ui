{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"projects/tools/src/lib/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"angular-confirmation-popover\";\n\nfunction CreateFarmerComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 8)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CreateFarmerComponent_tr_35_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const farmer_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goProjects(farmer_r1));\n    });\n    i0.ɵɵtext(17, \"Projects List\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\")(19, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CreateFarmerComponent_tr_35_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const farmer_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateFarmer(farmer_r1));\n    });\n    i0.ɵɵtext(20, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 10);\n    i0.ɵɵlistener(\"confirm\", function CreateFarmerComponent_tr_35_Template_button_confirm_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const farmer_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteFarmer(farmer_r1.id, farmer_r1));\n    })(\"cancel\", function CreateFarmerComponent_tr_35_Template_button_cancel_21_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.cancelClicked = true);\n    });\n    i0.ɵɵtext(22, \" Remove \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const farmer_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.idNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.district);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.village);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(farmer_r1.phoneNumber);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"popoverTitle\", ctx_r0.popoverTitle)(\"popoverMessage\", ctx_r0.popoverMessage);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/dashboard/update-farmer\"];\n};\n\nexport let CreateFarmerComponent = /*#__PURE__*/(() => {\n  class CreateFarmerComponent {\n    constructor(userService, router) {\n      this.userService = userService;\n      this.router = router;\n      this.farmers = [];\n      this.popoverTitle = 'Delete Farmer';\n      this.popoverMessage = 'Are You Sure Delete Farmer?';\n      this.cancelClicked = false;\n    }\n\n    ngOnInit() {\n      this.userService.getAllFarmers().subscribe(data => {\n        this.farmers = data['body'];\n      });\n    }\n\n    deleteFarmer(id, farmer) {\n      this.userService.deleteFarmer(id).pipe(first()).subscribe(data => {\n        const index = this.farmers.indexOf(farmer);\n        this.farmers.splice(index, 1);\n      });\n    }\n\n    updateFarmer(farmer) {\n      localStorage.setItem('updateFarmer', JSON.stringify(farmer));\n      this.router.navigate(['/dashboard/update-farmer/' + farmer.id]);\n    }\n\n    goProjects(farmer) {\n      localStorage.setItem('projectFarmerName', JSON.stringify(farmer.firstName + ' ' + farmer.lastName));\n      this.router.navigate(['/dashboard/project-list/' + farmer.id]);\n    }\n\n  }\n\n  CreateFarmerComponent.ɵfac = function CreateFarmerComponent_Factory(t) {\n    return new (t || CreateFarmerComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CreateFarmerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateFarmerComponent,\n    selectors: [[\"app-create-farmer\"]],\n    decls: 36,\n    vars: 3,\n    consts: [[1, \"container\", \"my-4\"], [\"href\", \"https:google.com\", \"target\", \"_blank\"], [1, \"my-4\"], [1, \"mb-5\", \"h4\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-bottom\", \"15px\", 3, \"routerLink\"], [1, \"table\", \"table-striped\", \"w-auto\"], [\"scope\", \"row\"], [\"style\", \"vertical-align: middle !important;\", 4, \"ngFor\", \"ngForOf\"], [2, \"vertical-align\", \"middle !important\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-right\", \"15px\", 3, \"click\"], [\"mwlConfirmationPopover\", \"\", \"placement\", \"left\", 1, \"btn\", \"btn-danger\", 3, \"popoverTitle\", \"popoverMessage\", \"confirm\", \"cancel\"]],\n    template: function CreateFarmerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Create or Update Farmer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"p\")(4, \"strong\");\n        i0.ɵɵtext(5, \"If you want to add farmer our web site, Please fill this form correctly. Because, It will add to Machine Learning System. So, If you enter wrong details prediction will be wrong. \");\n        i0.ɵɵelementStart(6, \"a\", 1);\n        i0.ɵɵtext(7, \"If you want more details. click here...\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(8, \"hr\", 2);\n        i0.ɵɵelementStart(9, \"h4\", 3);\n        i0.ɵɵtext(10, \"Farmer Details Table\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 4);\n        i0.ɵɵtext(12, \"Create new farmer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"table\", 5)(14, \"thead\")(15, \"tr\")(16, \"th\", 6);\n        i0.ɵɵtext(17, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\");\n        i0.ɵɵtext(19, \"ID Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\");\n        i0.ɵɵtext(21, \"First Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\");\n        i0.ɵɵtext(23, \"Last Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"District\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"th\");\n        i0.ɵɵtext(27, \"Village\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Phone Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"Projects\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\");\n        i0.ɵɵtext(33, \"Action\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"tbody\");\n        i0.ɵɵtemplate(35, CreateFarmerComponent_tr_35_Template, 23, 9, \"tr\", 7);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngForOf\", ctx.farmers);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.RouterLink, i4.ConfirmationPopoverDirective],\n    styles: [\"table[_ngcontent-%COMP%]{width:100%}\"]\n  });\n  return CreateFarmerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}